/* ========================================================================== */
/*  PERFUME SHELF — EXTREME COMMENTED EDITION                                 */
/*  Everything below is YOUR CSS, unchanged — with explanations on every line */
/* ========================================================================== */


/* ========== 1) THEME TOKENS (custom properties you can reuse anywhere) ==== */
:root { /* The root scope: variables defined here are available everywhere. */
  --bg: radial-gradient(120% 120% at 50% -10%, #111 0%, #0a0a0a 40%, #070707 100%); /* A large radial gradient used behind the video as a fallback. */
  --surface: #101010;      /* A generic dark surface color for panels, etc. */
  --card: #141414;         /* Slightly lighter dark used for cards. */
  --fg: #f6f6f6;           /* Foreground (text) color — almost white. */
  --muted: #a9a9a9;        /* Muted/secondary text color. */
  --ring: #2b2b2b;         /* Border color for normal states. */
  --ring-strong: #3a3a3a;  /* Border color for focused/hover states. */
  --accent: #7bd8ff;       /* Accent cyan/blue used for lines and highlights. */
  --danger: #ff6b6b;       /* Red used for destructive UI (like delete). */
}


/* ================= 2) BASE / RESET (predictable defaults) ================= */
* { box-sizing: border-box; }                         /* Include padding/border inside an element’s set width/height. */
html, body {                                          /* Target both the html element and the body. */
  margin: 0;                                          /* Remove default outer margins browsers add. */
  padding: 0;                                         /* Remove default padding. */
  color: var(--fg);                                   /* Set default text color to our theme variable. */
  background: #0a0a0a;                                /* Dark background (video sits on top of this). */
  font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif; /* Friendly font stack with fallbacks. */
}
body { background: transparent; }                     /* Make body background transparent so the video shows. */


/* ================= 3) FULLSCREEN BACKGROUND VIDEO ======================== */
.lights-bg {                                          /* The full-screen video background element. */
  position: fixed; inset: 0;                          /* Fix it to the viewport; stretch to all edges. */
  width: 100%; height: 100%;                          /* Ensure it covers the full viewport. */
  object-fit: cover;                                  /* Scale/crop video so it fills the area without distortion. */
  z-index: -2;                                        /* Send behind all normal content. */
  filter: brightness(.5) saturate(1.05) blur(1.5px);  /* Darken, slightly saturate, and soften it. */
}


/* ================= 4) HERO (big title + glow) ============================ */
.hero {                                               /* Wrapper around the big title. */
  position: relative;                                 /* Needed so the glow can be absolutely positioned inside. */
  padding: 36px 20px 10px;                            /* Top 36px, sides 20px, bottom 10px spacing. */
  text-align: center;                                 /* Center the title text. */
}
.hero-glow {                                          /* Soft color glow behind the hero title. */
  position: absolute; inset: -60px 0 auto;            /* Stretch left/right, move 60px above, leave bottom auto. */
  height: 120px; pointer-events: none;                /* Fixed height; ignore mouse events. */
  background: radial-gradient(60% 60% at 50% 50%,      /* A circular gradient centered in itself. */
               rgba(123,216,255,.28),                 /* Cyan center (semi-transparent). */
               rgba(255,255,255,.08) 40%,             /* Fades to faint white by 40%. */
               transparent 70%);                      /* Transparent outer edge by 70%. */
  filter: blur(20px);                                 /* Extra softness so it feels like glow. */
}
.hero-title {                                         /* The main headline text. */
  position: relative;                                 /* Allows layering if needed. */
  font-size: clamp(26px,4vw,44px);                    /* Responsive font: min 26px, scales up to max 44px. */
  font-weight: 800; margin: 0;                        /* Very bold; remove default heading margins. */
}
/* If any .accent-line exists in markup, we hide it (design choice). */
.accent-line { display: none !important; }            /* Force hide any element with .accent-line. */


/* ================= 5) OLD “GLASS BOX” HEADER (disabled visually) =========
   We keep these so old HTML won’t break, but visually they do nothing now. */
.header {                                             /* Legacy header container. */
  position: sticky; top: 0; z-index: 20;              /* Sticks to top as you scroll. */
  margin: 12px auto; max-width: 1200px;               /* Center it; limit width. */
  background: transparent !important;                 /* Remove old glass background. */
  border: 0 !important; box-shadow: none !important;  /* Remove borders/shadows. */
}
.header.scrolled { box-shadow: none !important; }     /* No shadow even when scrolling. */
.header-controls { display: none !important; }        /* Hide old control block entirely. */


/* ================= 6) NEW ELEMENTIS-STYLE HEADER =========================
   Layout = left: brand • center: nav • right: actions (search/toggle) */
.site-header {                                        /* The new header wrapper. */
  position: sticky; top: 0; z-index: 30;              /* Stay at top; higher z than old header. */
  background: transparent;                             /* Keep the video visible behind. */
  padding: 22px 0 10px;                                /* Airy top, tighter bottom. */
}
.site-header::after {                                  /* A subtle bottom hairline under the header. */
  content: ""; position: absolute; left: 0; right: 0; bottom: 0; height: 1px;
  background: rgba(255,255,255,.08);                  /* Very faint white line. */
}
.site-header-inner {                                   /* The inner grid that aligns left/center/right. */
  max-width: 1240px; margin: 0 auto; padding: 0 24px; /* Keep content centered with side padding. */
  display: grid; gap: 16px; align-items: center;      /* Grid with gaps; vertically center items. */
  grid-template-columns: 1fr auto 1fr;                 /* Left grows, center auto, right grows. */
}

/* Brand (clickable) — left */
.brand {
  display: inline-flex;
  gap: 6px;
  align-items: baseline;
  text-decoration: none;
  color: #f3f3f3;

  font-size: 16px;   /* ✅ fixed size — won’t grow too big */
  font-weight: 700;
  letter-spacing: .02em;
}



.brand-word.strong { font-weight: 800; position: relative; } /* Make one word extra bold, allow underline. */
.brand-word.strong::after {                            /* Decorative underline under the strong word. */
  content: ""; position: absolute; left: 2px; right: 2px; bottom: 2px; height: 2px;
  background: linear-gradient(90deg, transparent, rgba(123,216,255,.85), transparent); /* Cyan glow line. */
  border-radius: 2px;                                  /* Rounded ends. */
}

/* Centered nav */
.global-nav ul {                                      /* The <ul> list inside the nav. */
  display: flex; justify-content: center; align-items: center; /* Row; center items horizontally. */
  gap: clamp(18px, 3vw, 48px);                         /* Space between links (responsive). */
  list-style: none; margin: 0; padding: 0;            /* Remove bullets and default spacing. */
}
.global-nav a {                                       /* The actual nav links. */
  text-decoration: none; color: #eaeaea;              /* No underline; light text. */
  opacity: .86; font-weight: 600; letter-spacing: .06em; text-transform: uppercase; /* Nav styling. */
  font-size: clamp(12px, 1.2vw, 14px);                /* Small, responsive size. */
  position: relative; transition: opacity .15s, transform .15s; /* Smooth hover transitions. */
}
.global-nav a:hover { opacity: 1; transform: translateY(-1px); } /* Brighter + tiny lift on hover. */
.global-nav a.active::after {                         /* The glowing underline for the active page. */
  content: ""; position: absolute; left: 0; right: 0; bottom: -8px; height: 2px;
  background: linear-gradient(90deg, transparent, rgba(123,216,255,.9), transparent); /* Cyan glow line. */
  border-radius: 2px;                                 /* Rounded ends. */
}

/* Right-side actions (search field + toggle) */
.header-actions {                                     /* Right column wrapper. */
  display: flex; justify-content: flex-end; align-items: center; gap: 12px; /* Align right; space between items. */
}
.header-actions #search {                             /* The search input appearance. */
  width: min(420px, 36vw);                            /* At most 420px; otherwise 36% viewport width. */
  background: rgba(0,0,0,.45);                        /* Glassy dark background. */
  border: 1px solid rgba(255,255,255,.14);            /* Light border. */
  padding: 12px 14px; border-radius: 999px;           /* Comfortable padding; pill shape. */
  color: var(--fg); font-size: 14px; outline: none;   /* Light text; remove default focus outline. */
  transition: border-color .15s, box-shadow .15s, background .15s; /* Smooth focus transitions. */
}
.header-actions #search:focus {                       /* When the search input is focused. */
  border-color: rgba(123,216,255,.55);                /* Cyan border hint. */
  background: rgba(0,0,0,.6);                         /* Slightly darker background. */
  box-shadow: 0 0 0 3px rgba(123,216,255,.12);        /* Soft cyan glow ring. */
}
.site-header a, .site-header a:visited { color: #eaeaea; } /* Prevent purple visited links in header. */
.site-header.scrolled { backdrop-filter: blur(10px) saturate(140%); } /* Optional scroll blur (when JS adds .scrolled). */


/* ================= 7) MAIN LAYOUT CONTAINERS ============================ */

/* Hide add/update form unless body.editing is on */
.edit-only {
  display: none;
}
body.editing .edit-only {
  display: block;
}
 

.container {                                          /* The main content container. */
  max-width: 1180px;                                  /* Limit content width for readability. */
  margin: 22px auto;                                  /* Center it; add vertical space. */
  padding: 0 20px 48px;                               /* Side padding; extra padding at bottom. */
}
.panel {                                              /* A frosted-glass style panel (for the form). */
  background: rgba(20,20,20,.55);                     /* Semi-transparent dark background. */
  backdrop-filter: blur(16px);                        /* Frosted blur effect. */
  border: 1px solid rgba(255,255,255,.08);            /* Thin, subtle border. */
  border-radius: 20px;                                 /* Big rounded corners. */
  padding: 18px; margin-bottom: 28px;                 /* Inner spacing; space under panel. */
  box-shadow: 0 8px 28px rgba(0,0,0,.4);              /* Depth shadow. */
  animation: fadeSlideUp .5s ease forwards;           /* Smooth in-animation on load. */
}


/* ================= 8) GRID + CARD UI — Frosted + Aurora Ring ============ */

/* Grid wrapper */
.grid{
  display:grid;
  gap:18px;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
}

/* --------- Card base (frosted glass) --------- */
.card{
  position:relative;
  isolation:isolate;                 /* keep effects contained */
  overflow:hidden;
  border-radius:18px;

  /* glass: stronger blur + saturation */
  background:rgba(28,28,32,.42);     /* more transparent so blur shows */
  backdrop-filter:blur(14px) saturate(160%);
  -webkit-backdrop-filter:blur(14px) saturate(160%);

  /* faint border for definition */
  border:1px solid rgba(255,255,255,.08);

  /* layout */
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:14px 14px 52px;            /* room for price chip */

  /* depth + interactions */
  box-shadow:0 10px 30px rgba(0,0,0,.28);
  transition:
    transform .28s cubic-bezier(.22,.75,.25,1),
    box-shadow .28s,
    border-color .28s,
    background-color .28s;
}

.card:hover{
  transform:translateY(-6px) scale(1.02);
  box-shadow:
    0 18px 44px rgba(0,0,0,.42),
    0 0 18px rgba(123,216,255,.10);  /* subtle ambient glow */
  border-color:rgba(255,255,255,.12);
}

/* Fallback if backdrop-filter unsupported: make the panel a touch lighter */
@supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))){
  .card{ background:#17181b; }
}

/* --------- Aurora ring (cleaner “neon”) --------- */
/* Outer animated ring (masked border) */
.card::before{
  content:"";
  position:absolute; inset:0;
  border-radius:inherit;
  padding:1.6px;                      /* ring thickness */

  background:
    conic-gradient(
      from 0deg,
      rgba(123,216,255,.7),
      rgba(255,255,255,.08) 20%,
      rgba(123,216,255,.6) 40%,
      rgba(255,255,255,.08) 60%,
      rgba(123,216,255,.7) 80%,
      rgba(255,255,255,.08) 100%
    );

  /* mask the middle so only the border shows */
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;

  opacity:.0;
  transform:rotate(0deg);
  transition:opacity .35s ease;
  animation:aurora-spin 14s linear infinite;
  animation-play-state:paused;         /* only spins on hover/focus */
  pointer-events:none;
  z-index:0;
}

.card:hover::before,
.card:focus-within::before{
  opacity:.55;
  animation-play-state:running;
}

/* Soft inner glow to make content pop */
.card::after{
  content:"";
  position:absolute; inset:2px;
  border-radius:16px;
  background:
    radial-gradient(60% 60% at 20% 10%,
      rgba(123,216,255,.12), transparent 65%),
    radial-gradient(80% 80% at 80% 90%,
      rgba(255,255,255,.05), transparent 70%);
  pointer-events:none;
  z-index:0;
}

/* Keep card children above effects */
.card > *{ position:relative; z-index:1; }

@keyframes aurora-spin { to{ transform:rotate(360deg); } }

@media (prefers-reduced-motion: reduce){
  .card{ transition:none; }
  .card:hover{ transform:none; }
  .card::before{ animation:none; opacity:.35; }
}

/* --------- Image area --------- */
.thumb-wrap{
  position:relative;
  overflow:hidden;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.08);
  background:
    radial-gradient(120% 120% at 50% 10%, #1b1d22 0%, #0f1114 70%);
  aspect-ratio:3/4;
}

.thumb{
  width:100%; height:100%;
  object-fit:cover; object-position:center;
  transition:transform .5s ease, filter .5s ease;
  will-change:transform;
}
.card:hover .thumb{
  transform:scale(1.05);
  filter:saturate(1.06) contrast(1.04);
}

/* --------- Text stack --------- */
.meta{ display:flex; flex-direction:column; gap:4px; }
.name{ font-weight:800; letter-spacing:.2px; }
.card .brand{ font-size:12px; color:var(--muted); }

/* --------- Notes (collapsible) --------- */
.notes{
  margin-top:6px;
  font-size:12px; line-height:1.45; color:#f1f1f1;
  background:rgba(255,255,255,.04);
  border:1px solid var(--ring);
  border-radius:10px;
  padding:8px 10px;

  max-height:0; opacity:0; overflow:hidden;
  transform:translateY(-4px);
  transition:max-height .25s ease, opacity .18s ease, transform .18s ease;
}
.card:hover .notes,
.card.open .notes{
  max-height:240px; opacity:1; transform:translateY(0);
}

/* --------- Floating controls (edit/delete) --------- */
.controls{
  position:absolute; top:10px; right:10px; z-index:5;
  display:none; gap:8px;
}
.editing .controls{ display:flex; }
.icon-btn{
  width:36px; height:36px; display:grid; place-items:center;
  border-radius:999px;
  border:1px solid var(--ring);
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(4px);
  -webkit-backdrop-filter:blur(4px);
  cursor:pointer;
}
.icon-btn svg{ width:18px; height:18px; fill:#eaeaea; }
.icon-btn:hover{ border-color:var(--ring-strong); }
.icon-btn.delete{ background:rgba(150,0,0,.75); }
.icon-btn.delete:hover{ background:rgba(180,0,0,.85); }

/* --------- Price chip --------- */
.price{
  position:absolute; right:14px; bottom:12px;
  font-weight:700; font-size:14px; line-height:1; white-space:nowrap;
  color:var(--accent);
  background:rgba(123,216,255,.14);
  border:1px solid rgba(123,216,255,.28);
  padding:5px 10px;
  border-radius:12px;
  backdrop-filter:blur(4px);
  -webkit-backdrop-filter:blur(4px);
  transition:background .25s, border-color .25s, transform .25s;
}
.card:hover .price{
  background:rgba(123,216,255,.20);
  border-color:rgba(123,216,255,.38);
  transform:translateY(-1px);
}

/* ================= 9) FORM GOODIES (badges, toggle, preview) ============ */
/* Reusable pill buttons (menu/look-like, submit, etc.) */
.badge {                                              /* Generic pill-like button. */
  display: inline-flex; align-items: center; gap: 8px; /* Horizontal layout; center content. */
  padding: 8px 12px; font-size: 14px; user-select: none; cursor: pointer; /* Comfortable hit box. */
  color: #eaeaea; background: rgba(0,0,0,.55);         /* Glassy dark background. */
  border: 1px solid var(--ring); border-radius: 999px; /* Subtle border; pill shape. */
}
.badge:hover { border-color: var(--ring-strong); }    /* Slight emphasis on hover. */

/* Edit-mode toggle (checkbox visually hidden, styled switch shown) */
.edit-toggle { display: inline-flex; align-items: center; gap: 10px; } /* Wrap label + switch horizontally. */
.edit-toggle input { position: absolute; opacity: 0; pointer-events: none; } /* Hide real checkbox. */
.switch {                                             /* The visible track. */
  position: relative; width: 44px; height: 24px; border-radius: 999px; /* Rounded track. */
  background: #222; border: 1px solid var(--ring);    /* Dark track with border. */
  transition: background .2s, border-color .2s;       /* Smooth color changes. */
}
.knob {                                               /* The circular knob that slides. */
  position: absolute; top: 3px; left: 3px; width: 18px; height: 18px; /* Size/position of knob. */
  border-radius: 50%; background: #ccc;               /* Light grey knob when off. */
  transition: transform .2s, background .2s;          /* Slide + recolor smoothly. */
}
.edit-toggle input:checked + .switch { background: rgba(123,216,255,.25); border-color: var(--ring-strong); } /* On state. */
.edit-toggle input:checked + .switch .knob { transform: translateX(20px); background: var(--accent); } /* Slide right + cyan. */
.edit-toggle .label { font-size: 14px; color: var(--fg); } /* Caption text next to the switch. */

/* Image preview after file pick */
.preview {                                            /* Box that wraps the preview image. */
  margin-top: 10px; max-width: 280px;                 /* Space above; limit width. */
  border: 1px solid var(--ring); border-radius: 12px; /* Border + rounded corners. */
  padding: 8px; background: rgba(255,255,255,.03);    /* Slight pane background. */
}
.preview img { max-width: 100%; display: block; border-radius: 8px; } /* Make image fit; remove inline gap; round it. */


/* ================= 10) HOVER ZOOM POPUP (floating magnifier) ============ */
.zoom {                                               /* The floating zoom box that follows cursor. */
  position: fixed; z-index: 1000;                     /* Fixed to viewport; above everything else. */
  width: 280px; height: 360px;                        /* Size — must match JS expectations. */
  background-size: 200% 200%; background-position: 50% 50%; background-repeat: no-repeat; /* Background image zoomed 2x. */
  border: 1px solid var(--ring); border-radius: 12px; box-shadow: 0 12px 30px rgba(0,0,0,.5); /* Styled like a card. */
  pointer-events: none; transform: translateZ(0);     /* Don’t block mouse; force its own layer for smoother motion. */
  opacity: 0; transition: opacity .15s ease;          /* Hidden by default; quick fade in/out. */
}
.zoom.visible { opacity: 1; }                         /* When JS adds .visible, show it. */


/* ================= 11) TOPNAV (fallback hooks if you still use .topnav) == */
/* These styles ensure your legacy <nav class="topnav"> still looks nice. */
.topnav {
  display: grid; grid-template-columns: 1fr auto; align-items: center; /* Left grows, right auto. */
  column-gap: 16px; padding: 10px 18px 20px;          /* Spacing and side padding. */
}
.topnav-left {
  display: flex; align-items: center; gap: clamp(14px, 2.5vw, 28px); /* Horizontal row of links. */
  list-style: none; margin: 0; padding: 0;            /* Remove bullets/margins. */
}
.topnav-left a {
  text-decoration: none; color: #e9e9e9; font-weight: 600; letter-spacing: .2px; /* Clean link look. */
  opacity: .85; transition: opacity .15s, transform .15s; /* Smooth hover. */
}
.topnav-left a:hover { opacity: 1; transform: translateY(-1px); } /* Tiny lift on hover. */
.topnav-left a.active { opacity: 1; position: relative; } /* Active link styling base. */
.topnav-left a.active::after {                        /* Underline for active link. */
  content: ""; position: absolute; left: 0; right: 0; bottom: -6px; height: 2px;
  background: linear-gradient(90deg, transparent, rgba(123,216,255,.8), transparent); /* Cyan glow line. */
  border-radius: 2px;                                 /* Rounded ends. */
}
.topnav-right { display: flex; align-items: center; gap: 12px; } /* Right-side controls. */
.topnav-right #search { width: min(420px, 38vw); }   /* Keep search input a comfortable width. */


/* ================= 12) ANIMATIONS & UTILITIES =========================== */
@keyframes fadeSlideUp {                              /* Used for panels entering. */
  from { opacity: 0; transform: translateY(12px); }   /* Start lower and invisible. */
  to   { opacity: 1; transform: translateY(0); }      /* End in place and visible. */
}
@keyframes cardIn {                                   /* A fancier entrance animation (not applied by default). */
  from { opacity: 0; transform: translateY(14px) scale(.96); filter: blur(2px); } /* Small, low, slightly blurred. */
  to   { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }        /* Full size, crisp. */
}
.hidden { display: none !important; }                 /* Utility: force-hide any element regardless of other CSS. */

/* Bigger header logo without going crazy */
.site-header .brand {
  font-size: clamp(15px, 3vw, 24px) !important; /* ~28px small → ~48px max */
  line-height: 1.1;
}

.site-header .brand .brand-word {
  font-size: inherit !important;
}


/* Safety: keep small brand text inside cards only */
.card .brand {
  font-size: 12px !important;
  color: var(--muted);
}
/* ========== Modal (Login) ========== */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
}
.modal.hidden {
  display: none;
}
.modal-content {
  background: #141414;
  padding: 2rem;
  border-radius: 12px;
  width: 320px;
  max-width: 90%;
  box-shadow: 0 6px 24px rgba(0,0,0,0.5);
  text-align: center;
}
.modal-content h2 {
  margin-bottom: 1rem;
  color: #f3f3f3;
  font-size: 1.4rem;
}
.modal-content label {
  display: block;
  margin: 0.5rem 0;
  color: #ddd;
  font-size: 0.9rem;
  text-align: left;
}
.modal-content input {
  width: 100%;
  padding: 0.5rem;
  margin-top: 0.25rem;
  border-radius: 6px;
  border: 1px solid #444;
  background: #222;
  color: #fff;
}
.modal-actions {
  display: flex;
  justify-content: space-between;
  margin-top: 1rem;
}
.modal-actions .badge {
  flex: 1;
  margin: 0 0.25rem;
}
